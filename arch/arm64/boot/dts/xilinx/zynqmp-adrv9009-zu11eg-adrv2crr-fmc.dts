/*
 * dts file for ADRV2CRR-FMC using ADRV9009-ZU11EG System on Module
 *
 * Copyright (C) 2019 Analog Devices Inc.
 *
 * Licensed under the GPL-2.
 */

#include "zynqmp-adrv9009-zu11eg.dts"

/ {
	mdio { /* AR#69132 patch */
		phy1: phy@1{
			device_type = "ethernet-phy";
			reg = <1>;
		};
	};
};

&serdes {
	status = "okay";
};


/*
 * SGMII Ethernet: M1 (PHY1)
 * Using gem0, GTR Lane0
 */

&gem0 {
	status = "okay";
	phy-handle = <&phy1>;
	phy-mode = "sgmii";
	phys = <&lane0 PHY_TYPE_SGMII 0 1 125000000>;
};

/*
 * DisplayPort: P2
 * Using: GTR Lane3, Lane2
 */

&zynqmp_dpsub {
	status = "okay";
	phy-names = "dp-phy0", "dp-phy1";
	phys = <&lane3 PHY_TYPE_DP 0 2 27000000>,
		<&lane2 PHY_TYPE_DP 1 2 27000000>;
};

&zynqmp_dp_snd_pcm0 {
	status = "okay";
};

&zynqmp_dp_snd_pcm1 {
	status = "okay";
};

&zynqmp_dp_snd_card0 {
	status = "okay";
};

&zynqmp_dp_snd_codec0 {
	status = "okay";
};

&xlnx_dpdma {
	status = "okay";
};

/*
 * USB 2.0 & 3.0
 * Using: usb0, dwc3_0 on GTR Lane1
 */

&usb0 {
	status = "okay";
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_usb0_default>;
};

&dwc3_0 {
	status = "okay";
	dr_mode = "host";
	phy-names = "usb3-phy";
	//snps,usb3_lpm_capable;
	phys = <&lane1 PHY_TYPE_USB3 0 3 26000000>;
	maximum-speed = "super-speed";
};

